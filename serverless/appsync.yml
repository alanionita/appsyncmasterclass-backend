name: appsyncmasterclass

schema: './appsync/schemas/*.graphql'

authentication:
  type: 'AMAZON_COGNITO_USER_POOLS'
  config:
    awsRegion: eu-west-2 # defaults to stack region 
    defaultAction: ALLOW
    userPoolId: !Ref CognitoUserPool

resolvers:
  Query.getMyProfile:
    dataSource: usersTable
    kind: UNIT # required
    request: ./appsync/resolvers/Query.getMyProfile.request.vtl
    response: ./appsync/resolvers/Query.getMyProfile.response.vtl

dataSources:
  api:
    type: 'NONE'
  usersTable:
    type: AMAZON_DYNAMODB
    description: 'UsersTable'
    config:
      tableName: !Ref UsersTable